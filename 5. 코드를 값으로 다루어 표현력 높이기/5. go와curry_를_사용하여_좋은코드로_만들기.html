<script src="./fx_curry.js"></script>
<script>
	const products = [
		{
			name: '반팔티',
			price: 15000
		},
		{
			name: '긴팔티',
			price: 20000
		},
		{
			name: '핸드폰케이스',
			price: 30000
		},
		{
			name: '후드티',
			price: 35000
		},
		{
			name: '바지',
			price: 50000
		}
	];

	const add = (a, b) => a + b;
</script>

<script>
	const go = (...args) =>
		reduce((a, f) => f(a), args);

	const pipe = (f, ...fs) => (...a) =>
		go(f(...a), ...fs);
</script>

<script>
	go(
		products,
		products =>
			filter(p => p.price < 30000, products),
		products => map(p => p.price, products),
		prices => reduce(add, prices),
		log
	);

	// 커리적용된 go
	go(
		products,
		filter(p => p.price < 30000),
		map(p => p.price),
		reduce(add),
		log
	);
</script>
